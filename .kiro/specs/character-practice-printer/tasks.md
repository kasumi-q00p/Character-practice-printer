# 実装計画

- [x] 1. プロジェクト初期設定とコア構造の構築
  - React + TypeScript + Viteプロジェクトの作成
  - 基本的なフォルダ構造とコンポーネント骨格の作成
  - 必要な依存関係のインストール（styled-components、型定義など）
  - _要件: 7.1, 7.2_

- [x] 2. 文字種判定とデータモデルの実装
  - [x] 2.1 CharacterAnalyzerクラスの実装
    - ひらがな、カタカナ、アルファベットの判定ロジック
    - 文字種別の自動検出機能
    - _要件: 1.3_

  - [x] 2.2 基本データ型とインターフェースの定義
    - CharacterData、LayoutConfig、StrokeInfoの型定義
    - エラーハンドリング用の型定義
    - _要件: 1.1, 1.2_

  - [x] 2.3 文字種判定のユニットテスト作成
    - 各文字種の判定テスト
    - 混在文字列の処理テスト
    - _要件: 1.3_

- [x] 3. 入力パネルコンポーネントの実装
  - [x] 3.1 InputPanelコンポーネントの作成
    - テキスト入力フィールド
    - 縦書き・横書き選択UI
    - 文字サイズ選択スライダー
    - 書き順表示切り替えチェックボックス
    - _要件: 1.1, 2.3, 6.1, 6.2, 5.4, 7.2_

  - [x] 3.2 入力検証とエラーハンドリング
    - 文字数制限の実装
    - 不正文字の除外処理
    - リアルタイム入力検証
    - _要件: 1.2, 7.4_

  - [ ]* 3.3 InputPanelコンポーネントのテスト
    - ユーザー入力のテスト
    - 設定変更のテスト
    - _要件: 7.2_

- [x] 4. レイアウトエンジンの実装
  - [x] 4.1 LayoutServiceクラスの実装
    - A4サイズでの文字配置計算
    - 縦書き・横書きレイアウトロジック
    - 文字サイズに応じた行数・文字数計算
    - _要件: 2.1, 2.2, 2.4, 4.1, 4.2, 6.3_

  - [x] 4.2 レイアウト定数とユーティリティ
    - A4サイズ、余白、フォントサイズ定数の定義
    - 座標計算ヘルパー関数
    - _要件: 4.1, 4.2, 6.1, 6.2_

  - [ ]* 4.3 レイアウト計算のユニットテスト
    - 各書字方向でのレイアウト計算テスト
    - 文字サイズ変更時のレイアウト調整テスト
    - _要件: 2.4, 6.3_

- [x] 5. 文字表示とスタイリングの実装
  - [x] 5.1 Characterコンポーネントの実装
    - グレー文字の表示
    - 文字サイズの動的調整
    - 適切な文字間隔の設定
    - _要件: 3.1, 3.2, 3.3, 6.1, 6.2_

  - [x] 5.2 フォント管理とFontServiceの実装
    - Google Fonts（Noto Sans JP）の読み込み
    - 文字種に応じたフォント選択
    - フォント読み込みエラーハンドリング
    - _要件: 1.3, 3.1, 3.3_

  - [x] 5.3 印刷用CSSスタイルの実装
    - @media printスタイルの定義
    - A4サイズでの印刷最適化
    - グレー文字の印刷時濃度調整
    - _要件: 3.4, 4.1, 4.2, 4.3_

- [x] 6. 書き順機能の実装
  - [x] 6.1 書き順データの準備
    - ひらがな・カタカナ・アルファベットの書き順JSONファイル作成
    - SVGパス形式での書き順情報定義
    - _要件: 5.2, 5.3_

  - [x] 6.2 StrokeOrderServiceの実装
    - 書き順データの読み込み
    - 文字に対応する書き順情報の取得
    - 書き順番号の位置計算
    - _要件: 5.1, 5.2, 5.3, 5.4_

  - [ ]* 6.3 書き順表示のテスト
    - 書き順データ取得のテスト
    - 番号表示位置計算のテスト
    - _要件: 5.1, 5.4_

- [x] 7. プレビューパネルの実装
  - [x] 7.1 PreviewPanelコンポーネントの作成
    - リアルタイムプレビュー表示
    - A4サイズでのプレビュー
    - スクロール可能なプレビューエリア
    - _要件: 7.3, 4.4_

  - [x] 7.2 PrintableSheetコンポーネントの実装
    - レイアウトエンジンとの連携
    - 文字配置の可視化
    - 書き順番号の条件付き表示
    - _要件: 2.1, 2.2, 3.1, 5.1, 5.4_

- [x] 8. 印刷機能の実装
  - [x] 8.1 PrintServiceクラスの実装
    - ブラウザ印刷ダイアログの呼び出し
    - 印刷プレビュー機能
    - 印刷エラーハンドリング
    - _要件: 4.3, 4.4_

  - [x] 8.2 印刷最適化の実装
    - 印刷時の余白調整
    - ページ分割の最適化
    - 印刷品質の確保
    - _要件: 4.1, 4.2, 3.4_

- [x] 9. メインアプリケーションの統合
  - [x] 9.1 Appコンポーネントの実装
    - 全コンポーネントの統合
    - 状態管理の実装
    - コンポーネント間のデータフロー
    - _要件: 7.1, 7.2_

  - [x] 9.2 エラーハンドリングとユーザーフィードバック
    - グローバルエラーハンドリング
    - ユーザー向けエラーメッセージ
    - ローディング状態の表示
    - _要件: 7.4_

- [ ] 10. UI/UXの最終調整
  - [ ] 10.1 レスポンシブデザインの実装
    - モバイル・タブレット対応
    - 画面サイズに応じたレイアウト調整
    - タッチ操作の最適化
    - _要件: 7.1_

  - [ ] 10.2 アクセシビリティの実装
    - キーボードナビゲーション
    - スクリーンリーダー対応
    - 色覚異常への配慮
    - _要件: 7.1, 7.4_

  - [ ]* 10.3 E2Eテストの作成
    - ユーザーワークフロー全体のテスト
    - 印刷機能の動作確認
    - 異なるブラウザでの動作テスト
    - _要件: 全要件_